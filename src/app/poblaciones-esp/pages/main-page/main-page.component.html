<h1 class="mt-3 text-center">Poblaciones de España</h1>
<hr>

<form [formGroup]="poblacionesForm" class=" mt-3">

<div class="row">
<div class="col-12 col-md-5">
      <!-- Region -->
      <div class="row mb-3">
        <div class="col-12">
          <mat-form-field hideRequiredMarker="true" color="accent">
            <mat-label>-- Seleccione región --</mat-label>
            <mat-select formControlName="regions"> <!-- FormControl -->
              <mat-option *ngFor="let region of regions" [value]="region.acom_name">{{region.acom_name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <!-- Provincia -->
      <div class="row mb-3" *ngIf="provincesByRegion.length > 0">
        <div class="col-12">
          <mat-form-field hideRequiredMarker="true" color="accent">
            <mat-label>-- Seleccione provincia --</mat-label>
            <mat-select formControlName="provinces"> <!-- FormControl -->
              <mat-option *ngFor="let province of provincesByRegion" [value]="province.prov_name">{{province.prov_name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <!-- Municipio -->
      <div class="row mb-3" *ngIf="municipalitiesByProvinces.length > 0">
        <div class="col-12">
          <mat-form-field hideRequiredMarker="true" color="accent">
            <mat-label>-- Seleccione municipio --</mat-label>
            <mat-select formControlName="municipalities"> <!-- FormControl -->
              <mat-option *ngFor="let municipality of municipalitiesByProvinces" [value]="municipality.mun_name">{{municipality.mun_name}}</mat-option>
            </mat-select>
        </mat-form-field>
        <button mat-fab extended color="primary"
        class="fs-6"
        (click)="goToWeather()"
        > Ver tiempo
          <mat-icon>filter_drama</mat-icon>
        </button>
        </div>
      </div>
</div>
<div class="col-12 col-md-7">
  <poblaciones-map [coords]="mapCoords" (onMapSelect)="changeFormValues($event)"/>
</div>
</div>
